<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>diaposclaraainserer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-7504fb6c014d9d4fd213538c81d38504.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Programme</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../ressources.html"> 
<span class="menu-text">Ressources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://alexiaschn.github.io/ateliers_ia/seances/intro.html#/title-slide"> 
<span class="menu-text">Séance 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://alexiaschn.github.io/ateliers_ia/seances/correction.html"> 
<span class="menu-text">Séance 2</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="ia-et-révision" class="level2">
<h2 class="anchored" data-anchor-id="ia-et-révision">IA et révision <!--slide d'intro générale--></h2>
<p>En quoi les outils d’aide à la rédaction basés sur l’IA transforme-t-ils le rapport des chercheur·euses à leur texte, au processus d’écriture et aux ?</p>
<p>Nous aborderons :</p>
<ul>
<li>l’histoire et la pratique de la correction éditoriale,</li>
<li>le basculement technique (du savoir-faire de l’ortho-typo à la reformulation automatisée),</li>
<li>les enjeux épistémologiques (déprise du texte),</li>
<li>et les enjeux sociolinguistiques/politiques (normalisation implicite, effacement des variations, standardisation de la langue académique).</li>
</ul>
</section>
<section id="mise-en-perspective" class="level1">
<h1>Mise en perspective <!--slide d'intro partie 1--></h1>
<div style="color: green;">
<p><em>C’est quoi la correction / révision ?</em></p>
<p><em>Historique technique des outils</em> <!--titre à changer--></p>
</div>
<section id="essayons-de-définir" class="level2">
<h2 class="anchored" data-anchor-id="essayons-de-définir">Essayons de définir…</h2>
<p><strong>D’après le TLFi → CORRECTEUR, TRICE, subst. et adj.</strong></p>
<blockquote class="blockquote">
<p>Homme, femme qui s’arroge ou à qui est dévolu le rôle de corriger des défauts, de rectifier des erreurs sans pour autant infliger de punition corporelle.</p>
</blockquote>
<blockquote class="blockquote">
<p>TYPOGR. Ouvrier spécialisé qui, dans une imprimerie, est chargé de lire et de corriger les épreuves. <em>Les correcteurs ont deux maladies, les majuscules et les virgules, deux détails qui défigurent ou coupent le vers</em> (HUGO, Corresp., 1859, p.&nbsp;298).</p>
</blockquote>
<blockquote class="blockquote">
<p>Rem. 1. a) D’après la fonction, on distingue du correcteur qui révise les épreuves d’un journal le correcteur de labeur qui révise celles d’un ouvrage. b) D’après la hiérarchie on distingue les correcteurs en première (première épreuve), les correcteurs en second (ou en bon à tirer), les correcteurs en tierce (après la mise sous presse). 2. “Le correcteur femme existe aussi; mais <strong>cette espèce</strong>, du reste très rare”, travaille non pas dans l’atelier typographique, mais “au bureau du patron ou du prote” (d’apr. BOUTMY, Typogr. paris., 1874, p.&nbsp;29). <em>Sainte-Beuve dans la salle à manger, en famille, avec son secrétaire Troubat, sa correctrice d’épreuves, sa maîtresse</em> (GONCOURT, Journal, 1867, p.&nbsp;365).</p>
</blockquote>
<blockquote class="blockquote">
<p>TECHNOL. [Désigne un <strong>dispositif</strong>]</p>
</blockquote>
<blockquote class="blockquote">
<p>B. [<strong>L’instrument (matériel) de la correction</strong> dans diverses techniques]</p>
</blockquote>
<blockquote class="blockquote">
<p>C. [<strong>Le résultat</strong> lui-même]</p>
</blockquote>
</section>
<section id="on-peut-relever-un-certain-nombre-de-tensions" class="level2">
<h2 class="anchored" data-anchor-id="on-peut-relever-un-certain-nombre-de-tensions">On peut relever un certain nombre de tensions</h2>
<ul>
<li>Entre l’homme et l’outil</li>
<li>Entre l’outil et le résultat</li>
</ul>
<p>J’en rajoute une autre : entre deux espace-temps différents :</p>
<ul>
<li>les protocoles éditoriaux établis au sein d’institutions</li>
<li>les pratiques de brouillonnages individuelles</li>
</ul>
</section>
<section id="la-révision-comme-protocole-éditorial" class="level2">
<h2 class="anchored" data-anchor-id="la-révision-comme-protocole-éditorial">1. La révision comme protocole éditorial</h2>
<p>Définition donnée par le <em>Correcteur typographe</em> de Brossard de 1924 :</p>
<blockquote class="blockquote">
<p>La rectification, sur le plomb, des erreurs commises par le compositeur, ainsi que l’exécution des changements apportés par l’auteur à la composition du texte primitif sont connus sous la dénomination de correction. De, manière générale, ce mot s’emploie pour désigner toute modification, quelle, qu’elle soit : ajoutés, suppressions, transpositions, changements de texte, rectifications orthographiques, rappels de règles typographiques, etc. <span class="citation" data-cites="brossardCorrecteurTypographeRegles1924">[@brossardCorrecteurTypographeRegles1924]</span></p>
</blockquote>
<ul>
<li>Un savoir-faire qui nous vient du monde de l’imprimé</li>
<li>Passer de la copie à l’ouvrage</li>
<li>application des règles typographiques + reproduction fidèle et entière du manuscrit</li>
<li>un processus séquentiel (lecture → annotation → recomposition)</li>
<li>un processus itératif (premières, secondes épreuves, tierces)</li>
<li>un processus collectif (auteur.ice → correcteur.ice → auteur.ice → compositeur.ice)</li>
</ul>
<blockquote class="blockquote">
<p>Les auteurs ne se font point faute d’ailleurs de se prévaloir en ces circonstances de la liberté que leur accordent les usages, et l’on peut dire qu’en pratique le nombre des épreuves en placards ou en pages à fournir est illimité : suivant ses besoins, et sur sa demande, l’auteur peut recevoir successivement une première d’auteur, une deuxième, une troisième, et même plus si, d’après les corrections ou les modifications qu’il apporte au texte, il l’estime nécessaire : il est seul juge en cette matière, et généralement il ne remet le bon à mettre en pages ou, le cas échéant, le bon à tirer, que s’il répute le texte « amené à son état à peu près définitif ». <span class="citation" data-cites="brossardCorrecteurTypographeRegles1924">[@brossardCorrecteurTypographeRegles1924]</span></p>
</blockquote>
</section>
<section id="le-correcteur-est-le-chef-dorchestre-de-la-fabrique-du-livre" class="level2">
<h2 class="anchored" data-anchor-id="le-correcteur-est-le-chef-dorchestre-de-la-fabrique-du-livre">Le correcteur est le chef d’orchestre de la fabrique du livre</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./img/signes.png" class="img-fluid figure-img"></p>
<figcaption>Signes de correction ortho-typo</figcaption>
</figure>
</div>
</section>
<section id="les-acteurs-travaillent-lun-après-lautre-faute-après-faute" class="level2">
<h2 class="anchored" data-anchor-id="les-acteurs-travaillent-lun-après-lautre-faute-après-faute">Les acteurs travaillent l’un après l’autre, faute après faute</h2>
<p>La composition est un processus terriblement laborieux</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./img/galee.jpg" class="img-fluid figure-img"></p>
<figcaption>La casse et la galée</figcaption>
</figure>
</div>
</section>
<section id="science-ou-artisanat" class="level2">
<h2 class="anchored" data-anchor-id="science-ou-artisanat">Science ou artisanat ?</h2>
<section id="une-science" class="level3">
<h3 class="anchored" data-anchor-id="une-science">Une science ?</h3>
<p>Recommadation de <span class="citation" data-cites="ramatRamatTypographie2008">[@ramatRamatTypographie2008]</span> :</p>
<blockquote class="blockquote">
<p>Nombre de lecture en correction</p>
<ul>
<li>une lecture très rapprochée pour découvrir les fautes d’orthographe et de typographie.</li>
<li>relire le texte sans s’occuper des fautes déjà mentionnées, s’attacher au fond et non plus à la forme.</li>
</ul>
</blockquote>
<ul>
<li>Vérification des pages et des notes</li>
<li>Figures et tableaux</li>
<li>Vérification des énumérations</li>
<li>Dates</li>
<li>Veiller à l’homogénéité de l’écriture inclusive</li>
<li>S’assurer que le système international d’unité est bien utilisé</li>
<li>Uniformité des abbréviations et des noms propres</li>
<li>Les capitales, les faces, la casse</li>
<li>Emploi normé de la ponctuation</li>
<li>Révision bibliographique</li>
<li>La composition et la mise en page (qu’on laisse de côté aujourd’hui)</li>
</ul>
</section>
<section id="un-travail-qui-relève-de-lartisanat-voire-un-art" class="level3">
<h3 class="anchored" data-anchor-id="un-travail-qui-relève-de-lartisanat-voire-un-art">Un travail qui relève de l’artisanat ? voire un art ?</h3>
<blockquote class="blockquote">
<p>L’inobservation des règles typographiques est, après la coquille, l’une des causes les plus fréquentes de correction : ce fait tient à l’ignorance dans laquelle trop d’ouvriers se trouvent des principes les plus élémentaires de leur art, au dédain même qu’ils affectent à leur égard, à la volonté et au désir de certains auteurs de s’affranchir des prescriptions d’un métier dont ils ne connaissent que des « bribes », à la <strong>multiplicité</strong> et aussi à <strong>un défaut de précision et de, fixité de ces prescriptions</strong> : celles-ci semblent en effet varier presque à l’infini, avec chaque région, avec chaque ville, avec chaque maison, avec chaque correcteur et, hélas! presque avec chaque labeur ; chacun ou chacune, a une marche particulière, ou un ensemble de règles typographiques qui leur est propre : dédale sans fin où se perdent même les meilleures volontés et où s’égarent les esprits les plus avertis. <span class="citation" data-cites="brossardCorrecteurTypographeRegles1924">[@brossardCorrecteurTypographeRegles1924]</span></p>
</blockquote>
</section>
</section>
<section id="la-correction-au-cœur-de-lécriture" class="level2" data-background-image="./img/brouillonproust.png" data-background-opacity="0.3">
<h2 data-background-image="./img/brouillonproust.png" data-background-opacity="0.3" class="anchored" data-anchor-id="la-correction-au-cœur-de-lécriture">2. La correction au cœur de l’écriture</h2>
<p>On peut aussi entendre révision au sens psycholinguistique =&gt; désigne une étape dans le processus scripturaire, étape liée à celle de la planification et de la textualisation.</p>
<ul>
<li>la linguistique génétique ou philologie préfère le mot « variante »</li>
<li>la didactique dira « correction »</li>
<li>« retouche », « remords »</li>
<li>individuelle et multiple</li>
</ul>
<p><strong>La continuité révision / écriture s’incarne dans les outils</strong>.</p>
<div style="color: green;">
<p>Les outils ne se contentent plus de pointer, on est dans le paradigme de la génération de texte.</p>
</div>
</section>
<section id="lécriture-et-le-numérique" class="level2" data-background-image="./img/delete.svg" data-background-opacity="0.2">
<h2 data-background-image="./img/delete.svg" data-background-opacity="0.2" class="anchored" data-anchor-id="lécriture-et-le-numérique">L’écriture et le numérique</h2>
<section id="rapidité" class="level3">
<h3 class="anchored" data-anchor-id="rapidité">Rapidité</h3>
<p><span class="citation" data-cites="derridaPaperMachine2005">[@derridaPaperMachine2005, p.24]</span></p>
<blockquote class="blockquote">
<p>It’s a different kind of timing, a different rythm. First of all you correct faster and in a more or less indefinite way. Previously, after a certain number of versions (corrections, reasures, cutting and pasting, Tippex), everything came to a halt – that was enough. Not that you thought the text was perfect, but, after a certain period of metamorphosis, the process was interrupted. With the computer, everything is rapid and so easy; you get to thinking that you can go on revising forever. An interminable revision, an infinite analysis is already on the horizon […]. During this same time you no longer retain the slightest visible or objective trace of corrections made the day before.</p>
</blockquote>
<blockquote class="blockquote">
<p>There was a temporal resistance, a thickness in the duration of erasure.</p>
</blockquote>
</section>
<section id="correcteurs-orthographiques-et-grammaticaux" class="level3">
<h3 class="anchored" data-anchor-id="correcteurs-orthographiques-et-grammaticaux">Correcteurs orthographiques et grammaticaux</h3>
<ul>
<li>Facilité et rapidité de la correction ou révision</li>
<li>Développement des outils de correction // développement des traitements de texte</li>
<li>Logique de productivité</li>
</ul>
<div style="color: green;">
<p><strong>Les outils incarnent une vision du monde centrée sur la productivité et la rapidité</strong></p>
</div>
<!--break-->
</section>
</section>
</section>
<section id="quels-enjeux" class="level1">
<h1>Quels enjeux ? <!--trouver un meilleur titre--></h1>
<div style="color: green;">
<p><em>Quelle valeur on accorde au travail de relecture et correction ?</em></p>
<p><em>Si écrire c’est avant tout réécrire : que signifie déléguer la (re)formulation à un LLM ?</em></p>
<p><em>Un gain de temps ?</em></p>
<p><em>Une déprise du texte ?</em></p>
</div>
<section id="homgénéisation-de-la-langue" class="level2">
<h2 class="anchored" data-anchor-id="homgénéisation-de-la-langue">Homgénéisation de la langue</h2>
<p>Mouvement de standardisation de la langue reposant sur une sur-norme « légitimée et maintenue par tout un édifice de croyances sur la nature de la langue et sur ce qui est correct ou incorrect, croyances qui sont dictées inévitablement par les valeurs sociales et esthétiques de la société concernée. » <span class="citation" data-cites="lodgeFrenchDialectStandard1993">[@lodgeFrenchDialectStandard1993]</span></p>
<ul>
<li>Prépondérance des données standardisées voire générées par des LLMs dans le golden standard <span class="citation" data-cites="shumailovAIModelsCollapse2024">[@shumailovAIModelsCollapse2024, @guo2024curiousdeclinelinguisticdiversity]</span></li>
<li>Problématique de l’« approche par défaut »<span class="citation" data-cites="paschalidisVersLangageSans2025">[@paschalidisVersLangageSans2025]</span></li>
<li>Un idéal de clarté qui finit par s’auto-parodier (le fameux <em>style chatgpt</em>)</li>
</ul>
<blockquote class="blockquote">
<p>We show that while the core content of texts is retained when LLMs polish and rewrite texts, <strong>not only do they homogenize writing styles, but they also alter stylistic elements in a way that selectively amplifies certain dominant characteristics or biases while suppressing others - emphasizing conformity over individuality</strong>. By varying LLMs, prompts, classifiers, and contexts, we show that these trends are robust and consistent. <span class="citation" data-cites="sourati2025shrinkinglandscapelinguisticdiversity">[@sourati2025shrinkinglandscapelinguisticdiversity]</span></p>
</blockquote>
<blockquote class="blockquote">
<p>Des compétences poussées en ingénierie de prompts sont nécessaires pour contourner les effets liés aux approches par défaut. Cependant, même avec l’expertise requise, les LLMs ont tendance à générer des réponses inexactes ou inventées, à <strong>revenir à leurs réglages par défaut</strong>, rendant les reformulations successives presque inévitables, parfois jusqu’à provoquer un effondrement du modèle. Par conséquent, cette <strong>« attraction par défaut »</strong> devient un paramètre dont il faut systématiquement tenir compte. <span class="citation" data-cites="paschalidisVersLangageSans2025">[@paschalidisVersLangageSans2025]</span></p>
</blockquote>
<div style="color: green;">
<p><em>Si une formulation est fortement présente dans le corpus d’entraînement est-ce que c’est nécessairement la meilleure ? L’approche par défaut vaut-elle pour tous les contextes ?</em></p>
</div>
</section>
<section id="la-rédaction-académique-déprise-du-texte-déprise-du-sens" class="level2">
<h2 class="anchored" data-anchor-id="la-rédaction-académique-déprise-du-texte-déprise-du-sens">La rédaction académique : déprise du texte, déprise du sens ?</h2>
<ul>
<li>Tension entre rapidité et standards exigeants</li>
<li>Pouvoir rédiger dans un style “natif” même dans une langue étrangère</li>
</ul>
<div style="color: green;">
<p><em>Existe-t-il un seuil, une limite, au-delà de laquelle le recours aux LLMs constitue une perte de maîtrise du texte ?</em></p>
<p><em>Dire la même chose avec des mots différents change-t-il le sens ?</em></p>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>